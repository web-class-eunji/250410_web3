<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>고객대기명단</title>
</head>
<body>
    <button id="user_name">고객명입력</button>
    <button id="user_check">고객명단확인</button>
    <button id="come_in">입장</button>
    <script>
        //버튼을 각각 가져온다.
        // 대기자 명단을 관리하는 배열을 생성 ( 대기자의 이름이 차례대로 작성될것 )
        // 고객명 입력 버튼을 클릭하여 이름을 입력하면 대지가 명단을 관리하는 배열에 입력받은 데이터를 추가한다. 
        const userName = document.getElementById("user_name");
        const userCheck = document.getElementById("user_check");
        const comeIn = document.getElementById("come_in");

        const list = new Array();// 대기자의 명단을 관리하는 배열 (대기자의 이름이 차례대로 저장될것)

        userName.addEventListener("click", function(){ 
            //고객명 버튼을 클릭했을 때 밑에 있는 코드가 익명함수로 실행될것 
            // 함수가 다른곳에서 재사용되지 않을 때
            // 호출이 따로 없고 userName을 클릭했을 때 호출되는것
            
            list.push(prompt("대기자명 입력")); // 배열 마지막에다가 입력받은 데이터를 계속 쌓아줌

        })

        function listName(){
            if(list.length){
                alert(`현재 대기자는 ${list}이며, 총 ${list.length}명 입니다.`);
            }else {
                alert(`대기가 없습니다.`);
            }
        }
        userCheck.addEventListener("click", listName);

        function come(){
            if(list.length){
                alert(`${list.shift()}님 입장합니다. 대기 인원은 ${list.length}명 입니다.`);
            }else{
                alert(`입장할 손님이 없습니다.`);
            }
        }

        comeIn.addEventListener("click", come);


    </script>
</body>
</html>